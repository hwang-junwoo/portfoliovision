# CLAUDE.md - AI 어시스턴트를 위한 프로젝트 가이드

> 이 문서는 Claude 또는 다른 AI 어시스턴트가 프로젝트 상황을 빠르게 파악하고 효과적으로 도움을 줄 수 있도록 작성되었습니다.

**최종 업데이트**: 2025-11-15
**프로젝트 상태**: 기획 완료, 개발 환경 설정 단계

---

## 🎯 프로젝트 개요

### 프로젝트명
**PortfolioVision** - AI 기반 ETF 포트폴리오 관리 및 투자 인텔리전스 플랫폼

### 목적
- **주 목적**: 개인 학습 및 포트폴리오용 프로젝트
- **사용자**: 본인 (해외 ETF 투자자)
- **상용화 계획**: 없음 (개인용)

### 핵심 가치
해외 ETF 투자자를 위한 올인원 포트폴리오 관리 대시보드
- 실시간 가격 모니터링
- 경제 뉴스 수집 및 분석
- 기술적 지표 분석
- AI 기반 투자 인사이트 (선택사항)

---

## 💰 중요: 비용 전략

### 무료로 진행 (우선)
사용자가 **무료로 먼저 완성**하고 싶어 함
- Phase 1, 2, 4, 5는 완전 무료
- 모든 핵심 기능 무료로 제공

### AI 기능 (선택사항, 나중에)
- Phase 3 (AI 인사이트)는 **선택사항**
- Claude API 사용 시 월 ₩2,000~30,000 추가 비용
- **중요**: Claude Pro 구독과 별개로 API 과금
- AI 추가가 쉽도록 아키텍처 설계는 미리 해둘 것

---

## 📋 현재 프로젝트 상태

### 완료된 작업 ✅
1. ✅ **프로젝트 기획 완료** (PROJECT_PLAN.md)
   - 5개 Phase 로드맵 (12주)
   - 무료/유료 기능 명확히 구분
   - 기술 스택 선정 완료

2. ✅ **문서 작성 완료**
   - README.md: 프로젝트 소개
   - PROJECT_PLAN.md: 상세 기획서 (한글)
   - PROJECT_STRUCTURE.md: 디렉토리 구조
   - SETUP_GUIDE.md: 개발 환경 설정 가이드
   - .gitignore: Git 제외 파일

3. ✅ **개발 환경 설정 가이드 작성**
   - 백엔드 (FastAPI + PostgreSQL)
   - 프론트엔드 (Next.js)
   - 데이터베이스 (TimescaleDB)

### 현재 단계 📍
**Phase 0: 초기 설정 단계**
- 실제 디렉토리 구조 생성 필요
- 개발 환경 초기화 필요
- 첫 커밋 준비 중

### 다음 할 일 ⏭️
1. 디렉토리 구조 생성 (frontend, backend 폴더)
2. 백엔드 초기화 (FastAPI 기본 설정)
3. 프론트엔드 초기화 (Next.js 프로젝트 생성)
4. Git 초기 커밋
5. Phase 1 개발 시작

---

## 🚀 기술 스택

### 프론트엔드
- **Framework**: Next.js 14+ (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **UI Components**: shadcn/ui
- **Charts**: Chart.js, Dygraphs
- **State**: Zustand
- **Data Fetching**: TanStack Query (React Query)

### 백엔드
- **Framework**: Python FastAPI
- **Language**: Python 3.9+
- **Database**: PostgreSQL 16+ + TimescaleDB
- **ORM**: SQLAlchemy
- **Migration**: Alembic
- **Data**: pandas, yfinance, pandas-ta
- **News**: feedparser (RSS)
- **AI**: anthropic (Claude API) - Phase 3, 선택사항

### 인프라
- **개발**: 로컬 (완전 무료)
- **프로덕션** (향후): Vercel + Railway/Render (무료 티어)

---

## 📂 프로젝트 구조

```
portfoliovision/
├── frontend/          # Next.js (아직 생성 안 됨)
├── backend/           # FastAPI (아직 생성 안 됨)
├── database/          # DB 스크립트
├── docs/              # 추가 문서
├── scripts/           # 유틸리티 스크립트
├── .gitignore         ✅ 생성됨
├── README.md          ✅ 생성됨
├── PROJECT_PLAN.md    ✅ 생성됨
├── PROJECT_STRUCTURE.md ✅ 생성됨
├── SETUP_GUIDE.md     ✅ 생성됨
└── CLAUDE.md          ✅ 생성됨 (이 파일)
```

---

## 🗺️ 개발 로드맵 (12주)

### Phase 1: 포트폴리오 관리 (1-3주) ⬜ **← 현재 준비 단계**
- 포트폴리오 CRUD
- ETF 보유 종목 관리
- 거래 내역 기록
- 기본 대시보드 UI
- **비용**: 무료

### Phase 2: 경제 뉴스 (4-5주) ⬜
- RSS 피드 파서
- 뉴스 수집 자동화
- 뉴스 대시보드
- **비용**: 무료

### Phase 3: AI 인사이트 (6-8주) ⬜ **← 선택사항, 나중에**
- Claude API 통합
- 뉴스 감성 분석
- 포트폴리오 추천
- **비용**: 월 ₩2,000~30,000 (사용량 따라)

### Phase 4: 기술적 지표 (9-10주) ⬜
- pandas-ta 통합
- 이동평균, RSI, MACD 등
- 차트 시각화
- **비용**: 무료

### Phase 5: 실시간 기능 (11-12주) ⬜
- WebSocket 서버
- 실시간 가격 스트리밍
- 가격 알림
- **비용**: 무료

---

## 🎯 우선순위 (사용자 지정)

1. **포트폴리오 관리** (Phase 1) - 최우선
2. **경제 뉴스 수집** (Phase 2)
3. **AI 인사이트** (Phase 3) - **선택사항**
4. **기술적 지표** (Phase 4)
5. **실시간 가격** (Phase 5)

---

## 📖 주요 문서 참조

### 즉시 참조할 문서
1. **PROJECT_PLAN.md**: 전체 프로젝트 기획 (한글, 가장 상세)
2. **SETUP_GUIDE.md**: 개발 환경 설정 단계별 가이드
3. **PROJECT_STRUCTURE.md**: 디렉토리 및 파일 구조

### 필요시 참조
4. **README.md**: 프로젝트 소개 및 빠른 시작

---

## 💡 개발 시 주의사항

### 비용 관련
- ✅ 무료 기능 먼저 완성
- ✅ AI(Phase 3)는 나중에 추가 가능하도록 설계만
- ❌ AI API 키 설정은 Phase 3 시작할 때까지 미룸

### 아키텍처
- ✅ AI 서비스 레이어는 선택적으로 로드되도록 설계
- ✅ 환경 변수로 AI 기능 활성화/비활성화 가능하게
- ✅ AI 없어도 모든 핵심 기능 작동

### 코드 품질
- TypeScript/Python 타입 힌팅 철저히
- 컴포넌트/함수 재사용 최대화
- 테스트 작성 (pytest, Jest)

### 보안
- API 키는 절대 Git에 커밋 금지
- .env 파일 사용
- 민감한 금융 데이터 로깅 금지

---

## 🤖 Claude를 위한 가이드라인

### 작업 시작 전
1. **이 문서(CLAUDE.md) 먼저 읽기**
2. 현재 프로젝트 상태 확인
3. 작업이 어느 Phase에 해당하는지 파악
4. 무료/유료 기능 구분 확인

### 코드 작성 시
1. **무료 우선**: AI 관련 코드는 Phase 3 전까지 작성 안 함
2. **한글 주석**: 복잡한 로직은 한글 주석으로 설명
3. **타입 안전성**: TypeScript/Python 타입 힌팅 필수
4. **재사용성**: 컴포넌트/함수 재사용 고려
5. **테스트**: 가능하면 테스트 코드도 함께 작성

### 문서 작성 시
1. **한글 우선**: 기술 문서는 한글로
2. **명확성**: 초보자도 이해할 수 있게
3. **예시 포함**: 코드 예시, 명령어 예시 포함

### 질문 받았을 때
1. 프로젝트 전체 맥락 고려
2. 비용 관련 질문이면 무료 옵션 먼저 제시
3. 불확실하면 명확히 질문

---

## 📞 자주 묻는 질문 (FAQ)

### Q: AI 기능을 지금 구현해야 하나요?
**A**: 아니요. Phase 3는 선택사항이며, Phase 1, 2, 4, 5를 먼저 완성합니다. AI 추가가 쉽도록 아키텍처만 설계해두면 됩니다.

### Q: Claude API 비용이 얼마나 드나요?
**A**: 사용량에 따라 월 ₩2,000~30,000이며, Claude Pro 구독과 별개입니다. 무료 기능만으로도 충분히 사용 가능합니다.

### Q: 어떤 ETF 데이터 API를 사용하나요?
**A**: yfinance (무료)를 사용합니다. Alpha Vantage는 선택사항입니다.

### Q: TimescaleDB가 필수인가요?
**A**: 아니요. 권장사항이며, 일반 PostgreSQL로도 작동합니다. TimescaleDB는 시계열 데이터 성능을 개선합니다.

### Q: 다음에 뭘 해야 하나요?
**A**: 이 문서의 "다음 할 일" 섹션을 확인하거나, PROJECT_PLAN.md의 Phase 1 체크리스트를 참조하세요.

---

## 🔄 문서 업데이트 가이드

### 이 문서(CLAUDE.md)를 업데이트해야 할 때
- ✅ Phase 단계가 변경될 때
- ✅ 주요 기능이 완성될 때
- ✅ 기술 스택이 변경될 때
- ✅ 중요한 결정 사항이 있을 때

### 업데이트 방법
1. "최종 업데이트" 날짜 변경
2. "프로젝트 상태" 섹션 업데이트
3. "완료된 작업" 체크리스트 업데이트
4. "다음 할 일" 섹션 업데이트

---

## 🎓 학습 목표

이 프로젝트를 통해 배우고자 하는 것:
1. 풀스택 개발 (Next.js + FastAPI)
2. 시계열 데이터베이스 (TimescaleDB)
3. 실시간 통신 (WebSocket)
4. 금융 데이터 분석
5. AI API 통합 (선택사항)

---

## ⚠️ 중요 알림

### 법적 고지
- 이 도구는 개인용이며 투자 조언이 아닙니다
- 유료 종목 추천은 법적으로 금지 (투자자문업 등록 필요)
- "참고용" 명시 필수

### 데이터 정확성
- ETF 가격 데이터는 지연될 수 있음
- 항상 공식 거래소 데이터로 확인 필요

---

**이 문서를 읽은 후에는 프로젝트의 전체 맥락을 이해하고 효과적으로 도움을 줄 수 있습니다!**

**Happy Coding! 🚀**
